@use "./variables" as *;

#projects {
  &__a {
    .container {
      .cards {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        justify-content: center;
        gap: 1rem;

        .card {
          display: flex;
          flex-direction: column;
          justify-content: center;
          position: relative;
          overflow: hidden;

          .card__arrow {
            position: absolute;
            top: 0;
            right: 0;
            width: 180%;          // köşeden içeri taşan light-box
            height: 180%;
            transform-origin: top right;  // pivot: sağ üst köşe
            transform: translate(-48%, 23%) rotate(0deg); // dışarıda başlasın
            transition: transform 0.4s ease;

            // OK
            i {
              position: absolute;
              top: 0.75rem;
              right: 0.75rem;     // OK tam kartın sağ üstüne yakın
              padding: 0.5rem;
              background-color: $dark-color;
              border-radius: 50%;
              color: #fff;
              opacity: 0.6;
              transition: opacity 0.3s ease;
            }

            // LIGHT-BOX
            &::before {
              content: "";
              position: absolute;
              inset: 0;
              background: linear-gradient(
                120deg,
                rgba(226, 25, 25, 0.9),
                rgba(161, 6, 6, 0.2)
              );
              transform-origin: top right;
              transform: translate(2%, 4.2%) rotate(45deg);
            }

            // HOVER → SAĞ ÜST KÖŞEYE OTUR
            &:hover {
              transform: translate(-3%, -2%) rotate(-45deg); // köşeye tam oturur
            }

            &:hover i {
              opacity: 1;
            }
          }
        }
      }
    }
  }
}
